<!DOCTYPE html>
<html lang="es">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fantasia</title>
	  <link rel="stylesheet" type="text/css" href="estilos/estilosCuento.css">
	  <link href="https://fonts.googleapis.com/css2?family=Leckerli+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Delius&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rampart+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/pulse/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Arima+Madurai:wght@800&display=swap" rel="stylesheet">
</head>
<body>
</head>
<body onload="verificarUsuario()">
   <div class="general">
    <header >
      <div class="cabecera">
        <a  href="indexSesionIniciada.html"><img id="logo" src="iconos/logo1.4.png" height="75px" /></a>
        Curso de Lectura de Comprensión
      </div>
</header>
    <div style="padding-left: 35px; padding-top: 25px;">
        <a class="boton_atras" href="CuentosCortosSesionIniciada.html">Atrás</a>
    </div>



    <!-- //desde aqui// -->
    <div id="botonCerr">
      <button id="logoutButton" class="boton_cerrar_sesion" onclick="logout()">Cerrar Sesión</button>
    </div>
    <!-- //hasta aqui// -->



    <!--estos contenedores-->
    <div id="cuento-titulo" class="titulo"></div>
    <div align='center'>
        <img id="myimg">
    </div>
    <div id="cuento-container" style="text-align: center;"><p></p></div>
</div>
     <!--estos contenedores-->
   <script src="https://www.gstatic.com/firebasejs/7.15.1/firebase-app.js"></script>
   <script src="https://www.gstatic.com/firebasejs/7.15.1/firebase-auth.js"></script> 
   <script src="https://www.gstatic.com/firebasejs/7.15.1/firebase-database.js"></script> 
   <script src="https://www.gstatic.com/firebasejs/7.15.1/firebase-storage.js"></script>  
 
   <!-- TODO: Add SDKs for Firebase products that you want to use
      https://firebase.google.com/docs/web/setup#available-libraries -->
   <script src="https://www.gstatic.com/firebasejs/7.15.1/firebase-firestore.js"></script>
   <!-- Desde aqui -->
   <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyAbFC7FyNe9t8VBGO8xXPu-XtFSWeuo2i0",
      authDomain: "colorin-colorado-f857f.firebaseapp.com",
      databaseURL: "https://colorin-colorado-f857f-default-rtdb.firebaseio.com",
      projectId: "colorin-colorado-f857f",
      storageBucket: "colorin-colorado-f857f.appspot.com",
      messagingSenderId: "31331535773",
      appId: "1:31331535773:web:55d57a73caeb602085bd74",
      measurementId: "G-37YPHDXTPN"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
  </script>
 <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js";
  import {
    getAuth,
    signInWithEmailAndPassword,
    signOut,
    onAuthStateChanged,
  } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-auth.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyAbFC7FyNe9t8VBGO8xXPu-XtFSWeuo2i0",
    authDomain: "colorin-colorado-f857f.firebaseapp.com",
    databaseURL: "https://colorin-colorado-f857f-default-rtdb.firebaseio.com",
    projectId: "colorin-colorado-f857f",
    storageBucket: "colorin-colorado-f857f.appspot.com",
    messagingSenderId: "31331535773",
    appId: "1:31331535773:web:55d57a73caeb602085bd74",
    measurementId: "G-37YPHDXTPN"
  };
  const añadir = document.getElementById("añadir");
  const logoutButton = document.getElementById("logoutButton");
  const usuario = localStorage.getItem("datosUsuario");
  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  function logout() {
    const auth = getAuth();
    signOut(auth)
      .then(() => {
        localStorage.removeItem('datosUsuario');
        const usuario = localStorage.getItem("datosUsuario");
        window.location.href='index.html' ;
        console.log('funciono')
      })
      .catch((error) => {
        console.log(error);
      });
  }
  function verificarUsuario() {
      const auth = getAuth();
      onAuthStateChanged(auth, (user) => {
        if (user) {
          console.log('logeado')
          const uid = user.uid;
        } else {
          alert('Deberá iniciar sesión para tener accesos especiales.');
          window.location.href = 'index.html';
        }
      });
    }
  window.verificarUsuario = verificarUsuario;
  window.logout = logout;
</script>
 <!-- Hasta aqui -->
 


 
   <!-- CUSTOM CODE -->
   <script src="Fantasia.js"></script> 
</body>
</html>